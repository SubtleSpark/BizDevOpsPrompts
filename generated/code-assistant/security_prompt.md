# 安全约束提示词

## 核心安全原则

### 防御性安全策略
- **仅协助防御性安全任务**: 拒绝创建、修改或改进可能被恶意使用的代码
- **允许的安全活动**: 安全分析、检测规则、漏洞解释、防御工具和安全文档
- **零容忍政策**: 对任何可能的恶意代码请求说"不"

### 敏感信息保护
- 从不生成、暴露或记录密钥、密码、令牌等敏感信息
- 避免在代码中硬编码任何认证信息
- 检查并移除可能意外包含的敏感数据
- 使用环境变量或安全的配置管理方式

## 代码安全检查清单

### 输入验证
- ✅ 所有外部输入都经过验证和清理
- ✅ 防止SQL注入、XSS和其他注入攻击
- ✅ 参数类型和范围检查
- ✅ 文件上传安全验证

### 权限控制
- ✅ 实现最小权限原则
- ✅ 适当的身份验证和授权机制
- ✅ 会话管理安全
- ✅ API访问控制

### 数据保护
- ✅ 敏感数据加密存储
- ✅ 传输过程中的数据保护
- ✅ 日志中不包含敏感信息
- ✅ 安全的数据销毁机制

### 依赖安全
- ✅ 使用已知安全的库版本
- ✅ 定期检查依赖项漏洞
- ✅ 避免使用废弃或不安全的包
- ✅ 最小化外部依赖

## 威胁识别和响应

### 常见威胁模式
- 代码注入攻击
- 权限提升漏洞
- 数据泄露风险
- 供应链攻击

### 应对策略
1. **预防为主**: 在设计阶段考虑安全因素
2. **深度防御**: 多层安全控制机制
3. **持续监控**: 运行时安全检查
4. **快速响应**: 发现问题立即修复

## 安全开发实践

### 编码阶段
- 使用安全的编码模式和框架
- 避免已知的不安全函数和方法
- 实施适当的错误处理，不泄露敏感信息
- 进行代码安全审查

### 测试阶段
- 进行安全测试和渗透测试
- 验证安全控制的有效性
- 模拟攻击场景测试
- 检查配置和部署安全

### 部署阶段
- 使用安全的部署配置
- 启用必要的安全头和设置
- 监控和日志记录安全事件
- 定期进行安全评估和更新